{% extends 'site_base.html' %}
{% load bootstrap_tags %}
{% load staticfiles %}
{% load i18n %}
{% load url from future %}
{% block body %}
    {% if request.user.is_authenticated %}
    <div class="row" ng-app="layer_app">
        <div class="row page-header">
            <h4><b>{% trans 'New Layer' %}</b></h4>
        </div>
        <form role="form" action="{% url 'ledt:create_layer' %}" method="post">
        {% csrf_token %}
            <div class="row">
                <div id="attribute_line" class="hidden">
                    <div class="row form-group">
                            <div class="col-md-3">
                                <p id="attr_text_name0" class="well well-sm">id</p>
                                <input type="hidden" class="hidden" value="id" name="attr_name0" id="attr_name0">
                            </div>
                            <div class="col-md-3">
                                <p id="attr_text_type0" class="well well-sm">{% trans 'Long' %}</p>
                                <input type="hidden" class="hidden" value="Long" name="attr_type0" id="attr_type0">
                            </div>
                            <div class="col-md-2">
                                <p id="attr_text_size0" class="well well-sm">10</p>
                                <input type="hidden" class="hidden" value="10" name="attr_size0" id="attr_size0">
                            </div>
                            <div class="col-md-1">
                                <p id="attr_text_decimal0" class="well well-sm">0</p>
                                <input type="hidden" class="hidden" value="0" name="attr_decimal0" id="attr_decimal0">
                            </div>
                            <div class="btn-group col-md-3" role="group">
                                <div class="btn btn-default">
                                    <span class="glyphicon glyphicon-edit" aria-hidden="true">{% trans 'Edit' %}</span>
                                </div>
                                <div class="btn btn-default">
                                    <span class="glyphicon glyphicon-remove" aria-hidden="true">{% trans 'Remove' %}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="row">
                        <div class="col-md-8 form-group">
                                <label>{% trans 'Name' %}</label>
                                <input type="text" class="form-control" id="layer_name" name="layer_name" placeholder="name">
                        </div>
                        <div class="col-md-4 form-group">
                            <label>{% trans 'Type of layer' %}</label>
                            <select class="form-control" id="layer_type" name="layer_type">
                                <option value="Point">{% trans 'Point' %}</option>
                                <option value="Line">{% trans 'Line' %}</option>
                                <option value="Polygon">{% trans 'Polygon' %}</option>
                            </select>
                        </div>
                    </div>
                    <div class="row page-header"></div>
                    <div class="row" ng-controller="TypeController as typeCtrl">
                        <div class="col-md-3 form-group">
                            <label>{% trans 'Attribute name' %}</label>
                            <input id="attr_name" type="text" class="form-control">
                        </div>
                        <div class="col-md-3">
                            <label>{% trans 'Type of attribute' %}</label>
                            <select class="form-control" id="attr_type" ng-model="attrType" ng-init="attrType = 'Character'" ng-click="typeCtrl.setAttributeType(attrType)">
                                <option value="Character" >{% trans 'Character' %}</option>
                                <option value="Number" >{% trans 'Number' %}</option>
                                <option value="Long" >{% trans 'Long' %}</option>
                                <option value="Date" >{% trans 'Date' %}</option>
                            </select>
                        </div>
                        <div class="col-md-3" ng-show="typeCtrl.hasSize()">
                            <label>{% trans 'size of attribute' %}</label>
                            <input id="attr_size" type="text" class="form-control">
                        </div>
                        <div class="col-md-3" ng-show="typeCtrl.hasDecimal()">
                            <label>{% trans 'precision of decimal number' %}</label>
                            <input id="attr_decimal" type="text" class="form-control">
                        </div>
                    </div>
                    <div class="row">
                        <div id="add-line" class="btn btn-default btn-sm pull-right" >
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                            {% trans 'Add' %}
                        </div>
                    </div>
                    <div class="row page-header">
                        <h5><b>{% trans 'list of attributes' %}</b></h5>
                    </div>
                    <div id="attributes_list">
                        <div class="row form-group">
                            <div class="col-md-3">
                                <p id="attr_text_name0" class="well well-sm">id</p>
                                <input type="hidden" class="hidden" value="id" name="attr_name0" id="attr_name0">
                            </div>
                            <div class="col-md-3">
                                <p id="attr_text_type0" class="well well-sm">{% trans 'Long' %}</p>
                                <input type="hidden" class="hidden" value="Long" name="attr_type0" id="attr_type0">
                            </div>
                            <div class="col-md-2">
                                <p id="attr_text_size0" class="well well-sm">10</p>
                                <input type="hidden" class="hidden" value="10" name="attr_size0" id="attr_size0">
                            </div>
                            <div class="col-md-1">
                                <p id="attr_text_decimal0" class="well well-sm">0</p>
                                <input type="hidden" class="hidden" value="0" name="attr_decimal0" id="attr_decimal0">
                            </div>
                            <div class="btn-group col-md-3" role="group">
                                <div class="btn btn-default">
                                    <span class="glyphicon glyphicon-edit" aria-hidden="true">{% trans 'Edit' %}</span>
                                </div>
                                <div class="btn btn-default">
                                    <span class="glyphicon glyphicon-remove" aria-hidden="true">{% trans 'Remove' %}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--<script src="{% static 'layerEditor/jquery-2.1.3.min.js' %}"></script>-->
                <script src="{% static 'layerEditor/angular.min.js' %}"></script>
                <script src="{% static 'layerEditor/new_layer.js' %}"></script>
            </div>
            <div class="row page-header"></div>
            <div class="row">
                <input type="submit" class="btn btn-lg btn-primary pull-right" value="{% trans 'Create layer' %}">
            </div>
        </form>
    </div>
    {% else %}
        <p>{% trans 'You need to be logged in.' %}</p>
    {%  endif %}
{% endblock %}